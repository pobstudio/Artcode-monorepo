class Random{constructor(r){this.useA=!1;let e=function(r){let e=parseInt(r.substr(0,8),16),t=parseInt(r.substr(8,8),16),n=parseInt(r.substr(16,8),16),i=parseInt(r.substr(24,8),16);return function(){e|=0,t|=0,n|=0,i|=0;let r=(e+t|0)+i|0;return i=i+1|0,e=t^t>>>9,t=n+(n<<3)|0,n=n<<21|n>>>11,n=n+r|0,(r>>>0)/4294967296}};this.prngA=new e(r.substr(2,32)),this.prngB=new e(r.substr(34,32));for(let r=0;r<1e6;r+=2)this.prngA(),this.prngB()}random_dec(){return this.useA=!this.useA,this.useA?this.prngA():this.prngB()}random_num(r,e){return r+(e-r)*this.random_dec()}random_int(r,e){return Math.floor(this.random_num(r,e+1))}random_bool(r){return this.random_dec()<r}random_choice(r){return r[this.random_int(0,r.length-1)]}random_by_weight(r){var e,t,n=0;for(e=0;e<r.length;e++)n+=r[e];for(t=this.random_dec()*n,e=0;e<r.length;e++){if(t<r[e])return e;t-=r[e]}return-1}random_choice_by_weight(r,e){return r[this.random_by_weight(e)]}}const PATTERN_WEIGHTS=[[0,.2,.4,.8,1],[0,.25,.5,.75,1],[0,.4,.8,.9,1],[0,.1,.4,.6,.9,1]],COLORS_LENGTH=101,AVAILABLE_PATTERNS=["color","color_2","plain","horzStripes","vertStripes","grid","diagonalUp","diagonalDown","diagonalGrid"],generateGene=r=>{const e=new Random(r),t=e.random_choice(PATTERN_WEIGHTS),n=e.random_int(0,100),i=t.map(((r,t)=>0===t?"color":e.random_choice(AVAILABLE_PATTERNS)));return{vertOrHorzRatio:e.random_dec(),seed:r,palleteIndex:n,patternWeights:t,patternNames:i,gridLinesToRects:{gitter:[e.random_choice_by_weight([-8,-7,-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8],[1,2,3,4,5,6,7,8,9,8,7,6,5,4,3,2,1]),e.random_choice_by_weight([-8,-7,-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8],[1,2,3,4,5,6,7,8,9,8,7,6,5,4,3,2,1])]},gridPartitioning:{driftIndex:[e.random_choice([0,1]),e.random_choice([0,1])],driftCoefficient:[e.random_num(-.05,.05),e.random_num(-.05,.05)],margin:e.random_choice_by_weight([0,30,60,90,200],[.01,.4,.3,.2,.09]),gap:e.random_int(0,20),gridSizeInUnits:e.random_choice_by_weight([[20,20],[40,40],[60,60],[80,80],[100,100],[120,120],[200,200]],[.1,.1,.2,.28,.25,.05,.02])}}},labelByValue=(r,e)=>t=>e[r.indexOf(t)];function calculateFeatures(r){const e=generateGene(r.hash);return{gitter:e.gridLinesToRects.gitter,patternNames:e.patternNames,numPatterns:e.patternNames.length,scale:labelByValue([20,40,60,80,100,120,200],["village","subdistrict","town","district","city","metropolis","ecumenopolis"])(e.gridPartitioning.gridSizeInUnits[0]),padding:labelByValue([0,30,60,90,200],["full-bleed","bleed","trim","margin","frame"])(e.gridPartitioning.margin)}}
//# sourceMappingURL=index.ae40b931.js.map
